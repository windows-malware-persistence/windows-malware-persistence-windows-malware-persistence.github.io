# Keyboard layout
### Origin of the technique
Windows allows to install custom keyboard layouts that load a DLL.

### How to achieve persistence
Add a key under `HKLM\SYSTEM\CurrentControlSet\Control\Keyboard Layouts` (or edit an existing one).
Then, set `HKLM\SYSTEM\CurrentControlSet\Control\Keyboard Layouts\<id>\[Layout File]` to the name of the DLL.
Place the DLL in the `System32` directory.
### Requirements
Admin privileges.

### The achieved persistence
Everytime the user logs in, the payload is spawned with System privileges.

### More information
- https://github.com/NtQuerySystemInformation/CustomKeyboardLayoutPersistence