### Origin of the technique
Windows has an option to monitor a running process.

### How to achieve persistence
You can set what process monitor you want to run for a certain program.
You have to perform 3 actions:
Set `GlobalFlag`  in `HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Image File Execution Options\<exe name>.exe` to 512 (dword)
Set `ReportingMode` under `HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\SilentProcessExit\<exe name>.exe` to 1 (dword)
Set `MonitorProcess` under `HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\SilentProcessExit\<exe name>.exe` to the path of the executable. You can add parameters.

### Requirements
Administrator privileges are required to write to the registry.

### The achieved persistence
Runs when the targeted executable is launched.

### More information
- https://oddvar.moe/2018/04/10/persistence-using-globalflags-in-image-file-execution-options-hidden-from-autoruns-exe/
- https://persistence-info.github.io/Data/silentexitmonitor.html